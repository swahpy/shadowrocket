[General]
bypass-system = true
skip-proxy = 127.0.0.1, 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, localhost, *.local, captive.apple.com,*.ccb.com,*.abchina.com.cn,*.psbc.com
tun-excluded-routes = 10.0.0.0/8, 100.64.0.0/10, 127.0.0.0/8, 169.254.0.0/16, 172.16.0.0/12, 192.0.0.0/24, 192.0.2.0/24, 192.88.99.0/24, 192.168.0.0/16, 198.51.100.0/24, 203.0.113.0/24, 224.0.0.0/4, 255.255.255.255/32, 239.255.255.250/32
dns-server = https://223.5.5.5/dns-query,https://doh.pub/dns-query,https://dns.alidns.com/dns-query,223.5.5.5,119.29.29.29
fallback-dns-server = system
ipv6 = false
prefer-ipv6 = false
dns-direct-system = false
icmp-auto-reply = true
always-reject-url-rewrite = false
private-ip-answer = true
dns-direct-fallback-proxy = true
udp-policy-not-supported-behaviour = DIRECT

[Proxy Group]
Proxy=select,Enet,interval=1800,timeout=5,tolerance=10,select=0,url=http://www.gstatic.com/generate_204
ğŸ‡­ğŸ‡°HK=select,policy-regex-filter=é¦™æ¸¯,interval=1800,timeout=5,tolerance=10,select=0,url=http://www.gstatic.com/generate_204
ğŸ‡¨ğŸ‡³TW=select,policy-regex-filter=å°æ¹¾,interval=1800,timeout=5,tolerance=10,select=0,url=http://www.gstatic.com/generate_204
ğŸ‡¸ğŸ‡¬SG=select,policy-regex-filter=æ–°åŠ å¡,interval=1800,timeout=5,tolerance=10,select=0,url=http://www.gstatic.com/generate_204
ğŸ‡ºğŸ‡¸US=select,policy-regex-filter=ç¾å›½,interval=1800,timeout=5,tolerance=10,select=0,url=http://www.gstatic.com/generate_204
ğŸ‡¯ğŸ‡µJP=select,policy-regex-filter=æ—¥æœ¬,interval=1800,timeout=5,tolerance=10,select=0,url=http://www.gstatic.com/generate_204
ğŸ‡¹ğŸ‡·TR=select,policy-regex-filter=åœŸè€³å…¶,interval=1800,timeout=5,tolerance=10,select=0,url=http://www.gstatic.com/generate_204
YouTube=select,ğŸ‡ºğŸ‡¸US,ğŸ‡­ğŸ‡°HK,ğŸ‡¸ğŸ‡¬SG,select=0
Disney=select,ğŸ‡¸ğŸ‡¬SG,ğŸ‡¨ğŸ‡³TW,ğŸ‡ºğŸ‡¸US,select=0
Viu=select,ğŸ‡¸ğŸ‡¬SG,ğŸ‡¨ğŸ‡³TW,ğŸ‡ºğŸ‡¸US,select=0
Udemy=select,ğŸ‡¹ğŸ‡·TR,ğŸ‡­ğŸ‡°HK,ğŸ‡¸ğŸ‡¬SG,ğŸ‡¨ğŸ‡³TW,ğŸ‡ºğŸ‡¸US,select=0

[Rule]
# è§„åˆ™ç±»å‹ï¼š
# DOMAIN-SUFFIXï¼šåŒ¹é…è¯·æ±‚åŸŸåçš„åç¼€ã€‚å¦‚â€œDOMAIN-SUFFIX,example.com,DIRECTâ€å¯ä»¥åŒ¹é…åˆ°â€œa.example.comã€a.b.example.comâ€ã€‚
# DOMAIN-KEYWORDï¼šåŒ¹é…è¯·æ±‚åŸŸåçš„å…³é”®è¯ã€‚å¦‚â€œDOMAIN-KEYWORD,exa,DIRECTâ€å¯ä»¥åŒ¹é…åˆ°â€œa.example.comã€a.b.example.comâ€ã€‚
# DOMAINï¼šåŒ¹é…è¯·æ±‚çš„å®Œæ•´åŸŸåã€‚å¦‚â€œDOMAIN,www.example.com,DIRECTâ€åªèƒ½åŒ¹é…åˆ°â€œwww.example.comâ€ã€‚
# USER-AGENTï¼šåŒ¹é…ç”¨æˆ·ä»£ç†å­—ç¬¦ä¸²ï¼Œæ”¯æŒä½¿ç”¨é€šé…ç¬¦â€œ*â€ã€‚å¦‚â€œUSER-AGENT,MicroMessenger*,DIRECTâ€å¯ä»¥åŒ¹é…åˆ°â€œMicroMessenger Clientâ€ã€‚
# URL-REGEXï¼šåŒ¹é…URLæ­£åˆ™å¼ã€‚å¦‚â€œURL-REGEX,^https?://.+/item.+,REJECTâ€å¯ä»¥åŒ¹é…åˆ°â€œhttps://www.example.com/item/abc/123â€ã€‚
# IP-CIDRï¼šåŒ¹é…IPv4æˆ–IPv6åœ°å€ã€‚å¦‚â€œIP-CIDR,192.168.1.0/24,DIRECT,no-resolveâ€å¯ä»¥åŒ¹é…åˆ°IPæ®µâ€œ192.168.1.1ï½192.168.1.254â€ã€‚è§„åˆ™åŠ no-resolveæ—¶ï¼ŒIPè¯·æ±‚ä¼šåŒ¹é…åˆ°è¿™æ¡è§„åˆ™ï¼Œè€ŒåŸŸåè¯·æ±‚ä¸ä¼šç”¨è§£æå‡ºæ¥çš„IPå»åŒ¹é…è¿™æ¡è§„åˆ™ã€‚è§„åˆ™ä¸åŠ no-resolveæ—¶ï¼Œåˆ™IPè¯·æ±‚å¯åŒ¹é…ï¼ŒåŸŸåè§£æåçš„IPä¹Ÿå¯åŒ¹é…ã€‚
# IP-ASNï¼šåŒ¹é…IPåœ°å€éš¶å±çš„ASNç¼–å·ã€‚å¦‚â€œIP-ASN,56040,DIRECTâ€å¯ä»¥åŒ¹é…åˆ°å¾®ä¿¡çš„ç›¸å…³IPè¯·æ±‚ã€‚
# RULE-SETï¼šåŒ¹é…è§„åˆ™é›†å†…å®¹ã€‚è§„åˆ™é›†çš„ç»„æˆéƒ¨åˆ†éœ€åŒ…å«è§„åˆ™ç±»å‹ã€‚
# DOMAIN-SETï¼šåŒ¹é…åŸŸåé›†å†…å®¹ã€‚åŸŸåé›†çš„ç»„æˆéƒ¨åˆ†ä¸åŒ…å«è§„åˆ™ç±»å‹ã€‚
# SCRIPTï¼šåŒ¹é…è„šæœ¬åç§°ã€‚
# DST-PORTï¼šåŒ¹é…ç›®æ ‡ä¸»æœºåçš„ç«¯å£å·ã€‚å¦‚â€œDST-PORT,443,DIRECTâ€å¯ä»¥åŒ¹é…åˆ°443ç›®æ ‡ç«¯å£ã€‚
# GEOIPï¼šåŒ¹é…IPæ•°æ®åº“ã€‚å¦‚â€œGEOIP,CN,DIRECTâ€å¯ä»¥åŒ¹é…åˆ°å½’å±åœ°ä¸ºCNçš„IPåœ°å€ã€‚
# FINALï¼šå…œåº•ç­–ç•¥ã€‚å¦‚â€œFINAL,PROXYâ€è¡¨ç¤ºå½“å…¶ä»–æ‰€æœ‰è§„åˆ™éƒ½åŒ¹é…ä¸åˆ°æ—¶æ‰ä½¿ç”¨FINALè§„åˆ™çš„ç­–ç•¥ã€‚
# ANDï¼šé€»è¾‘è§„åˆ™ï¼Œä¸è§„åˆ™ã€‚å¦‚â€œAND,((DOMAIN,www.example.com),(DST-PORT,123)),DIRECTâ€å¯ä»¥åŒ¹é…åˆ°â€œwww.example.com:123â€ã€‚
# NOTï¼šé€»è¾‘è§„åˆ™ï¼Œéè§„åˆ™ã€‚å¦‚â€œNOT,((DST-PORT,123)),DIRECTâ€å¯ä»¥åŒ¹é…åˆ°é™¤äº†â€œ123â€ç«¯å£çš„å…¶ä»–æ‰€æœ‰è¯·æ±‚ã€‚
# ORï¼šé€»è¾‘è§„åˆ™ï¼Œæˆ–è§„åˆ™ã€‚å¦‚â€œOR,((DST-PORT,123),(DST-PORT,456)),DIRECTâ€å¯ä»¥åŒ¹é…åˆ°â€œ123â€æˆ–â€œ456â€ç«¯å£çš„æ‰€æœ‰è¯·æ±‚ã€‚
# ----------
# è§„åˆ™ç­–ç•¥ï¼š
# PROXYï¼šä»£ç†ã€‚é€šè¿‡é¦–é¡µæ­£åœ¨ä½¿ç”¨çš„ä»£ç†æœåŠ¡å™¨è½¬å‘æµé‡ã€‚
# DIRECTï¼šç›´è¿ã€‚è¿æ¥ä¸ç»è¿‡ä»»ä½•ä»£ç†æœåŠ¡å™¨ã€‚
# REJECTï¼šæ‹’ç»ã€‚è¿”å›HTTPçŠ¶æ€ç 404ï¼Œæ²¡æœ‰å†…å®¹ã€‚
# REJECT-DICTï¼šæ‹’ç»ã€‚è¿”å›HTTPçŠ¶æ€ç 200ï¼Œå†…å®¹ä¸ºç©ºçš„JSONå¯¹è±¡ã€‚
# REJECT-ARRAYï¼šæ‹’ç»ã€‚è¿”å›HTTPçŠ¶æ€ç 200ï¼Œå†…å®¹ä¸ºç©ºçš„JSONæ•°ç»„ã€‚
# REJECT-200ï¼šæ‹’ç»ã€‚è¿”å›HTTPçŠ¶æ€ç 200ï¼Œæ²¡æœ‰å†…å®¹ã€‚
# REJECT-IMGï¼šæ‹’ç»ã€‚è¿”å›HTTPçŠ¶æ€ç 200ï¼Œå†…å®¹ä¸º1åƒç´ GIFã€‚
# REJECT-TINYGIFï¼šæ‹’ç»ã€‚è¿”å›HTTPçŠ¶æ€ç 200ï¼Œå†…å®¹ä¸º1åƒç´ GIFã€‚
# REJECT-DROPï¼šæ‹’ç»ã€‚ä¸¢å¼ƒIPåŒ…ã€‚
# REJECT-NO-DROPï¼šæ‹’ç»ã€‚è¿”å›ICMPç«¯å£ä¸å¯è¾¾ã€‚
# é™¤æ­¤ä¹‹å¤–ï¼Œè§„åˆ™ç­–ç•¥è¿˜å¯ä»¥é€‰æ‹©ã€Œä»£ç†åˆ†ç»„ã€ã€ã€Œè®¢é˜…åç§°ã€ã€ã€Œåˆ†ç»„ã€ã€ã€ŒèŠ‚ç‚¹ã€ã€‚

# å…³äºå±è”½443ç«¯å£çš„UDPæµé‡çš„è§£é‡Šå†…å®¹ï¼šHTTP3/QUICåè®®å¼€å§‹æµè¡Œï¼Œä½†æ˜¯å›½å†…ISPå’Œå›½é™…å‡ºå£çš„UDPä¼˜å…ˆçº§éƒ½å¾ˆä½ï¼Œè¡¨ç°å¾ˆå·®ï¼Œå±è”½æ‰ä»¥å¼ºåˆ¶å›é€€HTTP2/HTTP1.1ã€‚ï¼ˆå¦‚éœ€å¯ç”¨è¯¥é€»è¾‘è§„åˆ™ï¼Œè¯·åˆ é™¤ANDå‰é¢çš„æ³¨é‡Šç¬¦å·#ï¼‰
# AND,((PROTOCOL,UDP),(DST-PORT,443)),REJECT-NO-DROP
# ----------
# ç›´è¿ç­–ç•¥çš„ä¿®æ­£è§„åˆ™é›†ã€‚
RULE-SET,https://url/add_rule/main/direct-amend.list,DIRECT
# ä»£ç†ç­–ç•¥çš„ä¿®æ­£è§„åˆ™é›†ã€‚
RULE-SET,https://url/add_rule/main/proxy-amend.list,PROXY
# å›½å¤–å¸¸ç”¨appå•ç‹¬åˆ†æµï¼šYouTubeï¼ŒNetflixï¼ŒDisney+ï¼ŒHBOï¼ŒSpotifyï¼ŒTelegramï¼ŒPayPalï¼ŒTwitterï¼ŒFacebookï¼ŒGoogleï¼ŒTikTokï¼ŒGitHubï¼ŒSpeedtestã€‚
# å›½å†…å¸¸ç”¨appå•ç‹¬åˆ†æµï¼šè‹¹æœæœåŠ¡ï¼Œå¾®è½¯æœåŠ¡ï¼Œå“”å“©å“”å“©ï¼Œç½‘æ˜“äº‘éŸ³ä¹ï¼Œæ¸¸æˆå¹³å°ï¼Œäºšé©¬é€Šï¼Œç™¾åº¦ï¼Œè±†ç“£ï¼Œå¾®ä¿¡ï¼ŒæŠ–éŸ³ï¼Œå¾®åšï¼ŒçŸ¥ä¹ï¼Œå°çº¢ä¹¦ã€‚
RULE-SET,https://url/ios_rule_script/master/rule/Shadowrocket/Apple/Apple.list,DIRECT
RULE-SET,https://url/ios_rule_script/master/rule/Shadowrocket/BiliBili/BiliBili.list,DIRECT
RULE-SET,https://url/ios_rule_script/master/rule/Shadowrocket/NetEaseMusic/NetEaseMusic.list,DIRECT
RULE-SET,https://url/ios_rule_script/master/rule/Shadowrocket/Baidu/Baidu.list,DIRECT
RULE-SET,https://url/ios_rule_script/master/rule/Shadowrocket/DouBan/DouBan.list,DIRECT
RULE-SET,https://url/ios_rule_script/master/rule/QuantumultX/WeChat/WeChat.list,DIRECT
RULE-SET,https://url/ios_rule_script/master/rule/Shadowrocket/DouYin/DouYin.list,DIRECT
RULE-SET,https://url/ios_rule_script/master/rule/Shadowrocket/Weibo/Weibo.list,DIRECT
RULE-SET,https://url/ios_rule_script/master/rule/Shadowrocket/Zhihu/Zhihu.list,DIRECT
RULE-SET,https://url/ios_rule_script/master/rule/Shadowrocket/XiaoHongShu/XiaoHongShu.list,DIRECT
RULE-SET,https://url/ios_rule_script/master/rule/Shadowrocket/YouTube/YouTube.list,PROXY
RULE-SET,https://url/ios_rule_script/master/rule/Shadowrocket/Netflix/Netflix.list,PROXY
RULE-SET,https://url/ios_rule_script/master/rule/Shadowrocket/Disney/Disney.list,PROXY
RULE-SET,https://url/ios_rule_script/master/rule/Shadowrocket/HBO/HBO.list,PROXY
RULE-SET,https://url/ios_rule_script/master/rule/Shadowrocket/Spotify/Spotify.list,PROXY
RULE-SET,https://url/ios_rule_script/master/rule/Shadowrocket/Telegram/Telegram.list,PROXY
RULE-SET,https://url/ios_rule_script/master/rule/Shadowrocket/PayPal/PayPal.list,PROXY
RULE-SET,https://url/ios_rule_script/master/rule/Shadowrocket/Twitter/Twitter.list,PROXY
RULE-SET,https://url/ios_rule_script/master/rule/Shadowrocket/Facebook/Facebook.list,PROXY
RULE-SET,https://url/ios_rule_script/master/rule/Shadowrocket/Amazon/Amazon.list,PROXY
RULE-SET,https://url/ios_rule_script/master/rule/Shadowrocket/Sony/Sony.list,DIRECT
RULE-SET,https://url/ios_rule_script/master/rule/Shadowrocket/Nintendo/Nintendo.list,DIRECT
RULE-SET,https://url/ios_rule_script/master/rule/Shadowrocket/Epic/Epic.list,DIRECT
RULE-SET,https://url/ios_rule_script/master/rule/Shadowrocket/SteamCN/SteamCN.list,DIRECT
RULE-SET,https://url/ios_rule_script/master/rule/Shadowrocket/Steam/Steam.list,DIRECT
RULE-SET,https://url/ios_rule_script/master/rule/Shadowrocket/Game/Game.list,DIRECT
RULE-SET,https://url/ios_rule_script/master/rule/Shadowrocket/Microsoft/Microsoft.list,DIRECT
RULE-SET,https://url/ios_rule_script/master/rule/Shadowrocket/Google/Google.list,PROXY
RULE-SET,https://url/ios_rule_script/master/rule/Shadowrocket/TikTok/TikTok.list,PROXY
RULE-SET,https://url/ios_rule_script/master/rule/Shadowrocket/GitHub/GitHub.list,PROXY
RULE-SET,https://url/ios_rule_script/master/rule/Shadowrocket/Speedtest/Speedtest.list,PROXY
RULE-SET,https://url/ios_rule_script/master/rule/QuantumultX/Global/Global.list,PROXY
RULE-SET,https://url/ios_rule_script/master/rule/QuantumultX/China/China.list,DIRECT
# æœ¬åœ°å±€åŸŸç½‘åœ°å€çš„è§„åˆ™é›†ã€‚
RULE-SET,https://url/ios_rule_script/master/rule/Shadowrocket/Lan/Lan.list,DIRECT
GEOIP,CN,DIRECT
FINAL,Proxy

[URL Rewrite]
^https?://(www.)?g.cn https://www.google.com/ncr 302
^https?://(www.)?google.cn https://www.google.com/ncr 302

[MITM]
enable = false
